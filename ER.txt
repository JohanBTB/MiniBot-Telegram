CREATE TABLE Chats(
	id int PRIMARY KEY,
	created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO chats(id) VALUES(1596810917);

CREATE TABLE Users(
	id INT GENERATED ALWAYS AS IDENTITY,
	chat_id INT NOT NULL,
	name VARCHAR(30) NOT NULL,
	nickname VARCHAR(30) NULL,
	email VARCHAR(30) NULL,
	CONSTRAINT fk_chat
	FOREIGN KEY(chat_id)
	REFERENCES chats(id)
	ON DELETE CASCADE
);
CREATE TABLE Products(
	id INT GENERATED ALWAYS AS IDENTITY,
	chat_id INT NOT NULL,
	name VARCHAR(30),
	unit INT, 
	dued_at TIMESTAMP, 
	created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, 
	CONSTRAINT fk_chat
	FOREIGN KEY(chat_id)
	REFERENCES chats(id)
	ON DELETE CASCADE
);
